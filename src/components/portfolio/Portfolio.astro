---
import Container from '../ui/Container.astro';
import SectionTitle from '../ui/SectionTitle.astro';
import PortfolioSlider from '../../react/PortfolioSlider.jsx';
import FeaturedProject from './FeaturedProject.astro';
import { proyectos } from '../../data/portfolio.js';

const destacados = proyectos.filter((p) => p.destacado);
const secundarios = proyectos.filter((p) => !p.destacado);
const sliderItems = secundarios.length ? secundarios : proyectos;
---

<section id="portfolio" class="py-16 md:py-section-y bg-brilint-surface">
  <Container className="space-y-8 md:space-y-10">
    <SectionTitle
      title="Algunos proyectos recientes"
      subtitle="Muestras reales de trabajo en landing pages, infraestructura, redes y soporte para negocios del Valle de Toluca."
    />

    <!-- Proyectos destacados -->
    <div class="md:hidden -mx-2">
      <div class="flex gap-4 overflow-x-auto snap-x snap-mandatory pb-3 px-2 hide-scrollbar">
        {destacados.map((p) => (
          <div class="min-w-[88%] snap-center">
            <FeaturedProject proyecto={p} />
          </div>
        ))}
      </div>
    </div>

    <div class="hidden md:grid md:grid-cols-2 md:gap-6">
      {destacados.map((p) => (
        <FeaturedProject proyecto={p} />
      ))}
    </div>

    <!-- Slider compacto -->
    <div class="px-1 sm:px-0">
      <PortfolioSlider proyectos={sliderItems} client:load />
    </div>
  </Container>
</section>
